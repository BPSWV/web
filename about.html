<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>About & History | Bloomery Presbyterian Church</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="Discover the rich history of Bloomery Presbyterian Church in Bloomery, West Virginia. Established in 1825, our church stands as a testament to nearly two centuries of faith, community, and heritage in Hampshire County.">
  <meta name="keywords" content="Bloomery Presbyterian Church, Bloomery WV, Hampshire County, West Virginia church, Presbyterian, church history, Capon Valley, historic church, Christian community">
  <meta property="og:title" content="About & History | Bloomery Presbyterian Church">
  <meta property="og:description" content="Learn about the nearly 200-year history of Bloomery Presbyterian Church in Bloomery, WV.">
  <meta property="og:image" content="https://www.bloomerypresbyterian.org/images/historic-photo.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.bloomerypresbyterian.org/about.html">
  <link rel="canonical" href="https://www.bloomerypresbyterian.org/about.html">
  <link rel="stylesheet" href="style.css">

  <!-- Inline styles specific to the interactive side gallery -->
  <style>
    /* Layout tweaks */
    .about-content { display: flex; gap: 20px; align-items: flex-start; flex-wrap: wrap; }
    .about-img { max-width: 440px; width: 100%; height: auto; border-radius: 6px; }

    /* Side gallery (desktop) */
    .side-gallery {
      position: fixed;
      right: 18px;
      top: 120px;
      width: 120px;
      max-height: calc(100vh - 160px);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 8px;
      background: rgba(255,255,255,0.98);
      border-radius: 8px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      z-index: 900;
    }

    .side-gallery .thumb {
      width: 100%;
      display: block;
      border-radius: 6px;
      overflow: hidden;
      cursor: pointer;
      border: 2px solid transparent;
      transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .side-gallery .thumb img {
      display: block;
      width: 100%;
      height: auto;
      object-fit: cover;
    }
    .side-gallery .thumb:focus,
    .side-gallery .thumb:hover {
      transform: translateY(-4px);
      border-color: #8aa8ff;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      outline: none;
    }

    /* Highlight current thumbnail */
    .side-gallery .thumb.active {
      border-color: #2b6ef6;
      box-shadow: 0 10px 24px rgba(43,110,246,0.15);
      transform: translateY(-6px) scale(1.02);
    }

    /* Mobile: make gallery inline horizontally */
    @media (max-width: 900px) {
      .side-gallery {
        position: static;
        width: 100%;
        max-height: none;
        flex-direction: row;
        overflow-x: auto;
        padding: 6px 8px;
        gap: 8px;
        margin: 12px 0;
        box-shadow: none;
        background: transparent;
      }
      .side-gallery .thumb { width: auto; min-width: 120px; }
      main { padding-right: 0; }
    }

    /* Lightbox overlay */
    .gallery-lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.9);
      z-index: 10000;
      padding: 20px;
    }
    .gallery-lightbox.show { display: flex; }
    .gallery-lightbox img {
      max-width: 95%;
      max-height: 90%;
      border-radius: 6px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    }
    .gallery-lightbox .close-btn {
      position: absolute;
      top: 18px;
      right: 18px;
      background: rgba(0,0,0,0.45);
      border: none;
      color: #fff;
      font-size: 1.25rem;
      padding: 8px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    .gallery-lightbox .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.35);
      border: none;
      color: #fff;
      font-size: 1.75rem;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
    }
    .gallery-lightbox .nav-btn.prev { left: 18px; }
    .gallery-lightbox .nav-btn.next { right: 18px; }

    .gallery-caption {
      margin-top: 10px;
      color: #eee;
      font-size: 0.95rem;
      text-align: center;
    }
  </style>
</head>
<body>
  <header>
    <img src="images/church-logo.png" alt="Bloomery Presbyterian Church Logo" class="logo">
    <h1>Bloomery Presbyterian Church</h1>
    <!-- Nav placeholder -->
    <div id="nav-placeholder"></div>
  </header>
  <main>
    <h2>About & History</h2>
    <div class="about-content">
      <img src="images/church1910.png" alt="Historic Bloomery Presbyterian Church, Bloomery WV (circa 1910)" class="about-img">
      <div>
        <p>
          <strong>Bloomery Presbyterian Church</strong>, established in 1825, is one of the oldest and most enduring religious institutions in Hampshire County, West Virginia. For nearly two centuries, our historic white wooden church has served as a cornerstone of faith, community, and cultural heritage in the Capon River valley, weathering the challenges of frontier life, industrial change, the Civil War, and modern transformation while maintaining its vital role in the spiritual life of the region.
        </p>
        <p>
          <strong>Origins and Early Settlement:</strong> The founding of Bloomery Presbyterian Church reflects the broader pattern of Scotch-Irish migration to western Virginia in the early 18th century. These Presbyterian settlers, seeking fertile land and religious freedom, brought with them a strong tradition of congregational worship and community-building. The Capon River valley, where Bloomery is located, became home to these families as they moved from Pennsylvania into the Shenandoah Valley and beyond.
        </p>
        <p>
          <strong>Bloomery’s Iron Heritage:</strong> The community’s name comes from the iron bloomery operations that made Bloomery a significant early industrial center. By 1825, the area was thriving with iron production, providing the economic foundation for establishing lasting institutions like our church. The proximity of iron ore, timber, limestone, and water power made Bloomery ideal for industry and community growth.
        </p>
        <p>
          <strong>Early Years and Growth:</strong> The church was constructed as a substantial two-story meeting house, later expanded to meet the needs of a growing congregation. Affiliated from the beginning with Winchester Presbytery, Bloomery Presbyterian Church benefited from circuit-riding ministers who served the region’s scattered settlements and ensured the congregation remained connected to Presbyterian traditions and governance.
        </p>
        <p>
          <strong>Architectural Heritage:</strong> Our building exemplifies early 19th-century rural Presbyterian architecture—wooden clapboard siding, a steep metal roof, a white cupola, and a simple, functional design. Adjacent to the church is a historic cemetery with graves dating back to the 1830s, offering a tangible link to the earliest members of our community and reflecting the church’s role as a center of both worship and local heritage.
        </p>
        <p>
          <strong>Historical Milestones:</strong> In 1926, the church celebrated its centennial with a gathering of 800 people, highlighting its ongoing importance to the region. Dr. Charles D. Gilkeson’s historical account at this event traced the church’s roots to the Scotch-Irish migration and detailed the challenges faced by early settlers, including frontier hardships and the impact of the Civil War.
        </p>
        <p>
          <strong>Surviving the Civil War and Beyond:</strong> Like many Hampshire County institutions, Bloomery Presbyterian Church endured the disruptions of the Civil War and the decline of the local iron industry. Despite these challenges, the congregation remained active, adapting to economic and social changes while continuing to serve the valley’s families.
        </p>
        <p>
          <strong>Modern Era:</strong> Today, Bloomery Presbyterian Church is an active member of the Shenandoah Presbytery of the Presbyterian Church (USA). We continue to preserve our historic building and cemetery, welcoming all who seek spiritual growth, community, and a connection to a living tradition that spans generations.
        </p>
        <p>
          <strong>Legacy:</strong> As one of Hampshire County’s oldest continuously operating churches, Bloomery Presbyterian Church is more than a place of worship—it is a community center, educational institution, and a living testament to the faith, perseverance, and heritage of the Capon Valley. Our story is one of adaptation, resilience, and the enduring importance of faith in sustaining community across generations.
        </p>
        <a href="contact.html" class="button">Learn More or Visit Us</a>
      </div>
    </div>

    <!-- Inline gallery for small screens -->
    <div class="gallery" aria-labelledby="gallery-heading">
      <h3 id="gallery-heading">Church Life & Memories</h3>
      <div class="gallery-row" style="display:none;" aria-hidden="true">
        <!-- original non-interactive row left in place but hidden on wide view -->
        <img src="images/church_entry.png" alt="Church Entry" class="gallery-img">
        <img src="images/church_cem.png" alt="Church Cemetery" class="gallery-img">
        <img src="images/churchbanner.jpg" alt="Bloomery Banner" class="gallery-img">
        <img src="images/interior-hist.jpg" alt="Display of the Church's history" class="gallery-img">
      </div>
    </div>

    <!-- Side gallery thumbnails (desktop) -->
    <div id="sideGallery" class="side-gallery" aria-label="Photo gallery: thumbnails" tabindex="0">
      <!-- Thumbnails: add or remove images as needed -->
      <button class="thumb" data-index="0" data-caption="Church Entry" aria-label="Open Church Entry image">
        <img src="images/church_entry.png" alt="Church Entry">
      </button>
      <button class="thumb" data-index="1" data-caption="Church Cemetery" aria-label="Open Church Cemetery image">
        <img src="images/church_cem.png" alt="Church Cemetery">
      </button>
      <button class="thumb" data-index="2" data-caption="Bloomery Banner" aria-label="Open Bloomery Banner image">
        <img src="images/churchbanner.jpg" alt="Bloomery Banner">
      </button>
      <button class="thumb" data-index="3" data-caption="Historic interior display" aria-label="Open Historic interior display image">
        <img src="images/interior-hist.jpg" alt="Display of the Church's history">
      </button>
      <!-- Add more thumbs below if you have more images -->
    </div>

  </main>

  <!-- Lightbox overlay for full-size viewing -->
  <div id="galleryLightbox" class="gallery-lightbox" role="dialog" aria-modal="true" aria-hidden="true" aria-label="Enlarged gallery image">
    <button class="close-btn" id="lightboxClose" aria-label="Close enlarged image">✕</button>
    <button class="nav-btn prev" id="lightboxPrev" aria-label="Previous image">‹</button>
    <button class="nav-btn next" id="lightboxNext" aria-label="Next image">›</button>
    <img id="lightboxImage" src="" alt="">
    <div class="gallery-caption" id="lightboxCaption" aria-live="polite"></div>
  </div>

  <footer>
    <p>&copy; 2025 Bloomery Presbyterian Church. All rights reserved.</p>
    <p>
      <a href="https://www.youtube.com/channel/UCS2kIs8oVJ1U25cV7_N-b4Q" target="_blank" rel="noopener">
        <img src="images/youtube-icon.png" alt="Bloomery Presbyterian Church YouTube Channel" style="width:20px;vertical-align:middle;"> YouTube
      </a>
    </p>
  </footer>

  <!-- Load nav.html into nav-placeholder -->
  <script>
    fetch('nav.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('nav-placeholder').innerHTML = data;

        // Highlight active nav link based on current page
        const currentPage = window.location.pathname.split('/').pop() || 'about.html';
        const navLinks = document.querySelectorAll('#nav-placeholder a.nav-link');
        navLinks.forEach(link => {
          if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
          }
        });
      })
      .catch(error => console.error('Error loading navigation:', error));
  </script>

  <!-- Gallery behavior script -->
  <script>
    (function() {
      const sideGallery = document.getElementById('sideGallery');
      const thumbs = Array.from(sideGallery.querySelectorAll('.thumb'));
      const lightbox = document.getElementById('galleryLightbox');
      const lightboxImg = document.getElementById('lightboxImage');
      const lightboxCaption = document.getElementById('lightboxCaption');
      const closeBtn = document.getElementById('lightboxClose');
      const prevBtn = document.getElementById('lightboxPrev');
      const nextBtn = document.getElementById('lightboxNext');

      let currentIndex = 0;

      // Helper: set active thumbnail styles
      function setActiveThumb(index) {
        thumbs.forEach((t, i) => {
          t.classList.toggle('active', i === index);
          if (i === index) {
            // ensure visible in scroll container
            t.scrollIntoView({ block: 'center', behavior: 'smooth' });
          }
        });
      }

      // Open lightbox for index
      function openLightbox(index) {
        const t = thumbs[index];
        const img = t.querySelector('img');
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || t.dataset.caption || '';
        lightboxCaption.textContent = t.dataset.caption || img.alt || '';
        lightbox.classList.add('show');
        lightbox.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        currentIndex = index;
        setActiveThumb(currentIndex);
        // focus prev button for keyboard users
        prevBtn.focus();
      }

      function closeLightbox() {
        lightbox.classList.remove('show');
        lightbox.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        // return focus to the active thumb
        const active = thumbs[currentIndex];
        if (active) active.focus();
      }

      function showNext() { currentIndex = (currentIndex + 1) % thumbs.length; openLightbox(currentIndex); }
      function showPrev() { currentIndex = (currentIndex - 1 + thumbs.length) % thumbs.length; openLightbox(currentIndex); }

      // Click / keyboard on thumbnails
      thumbs.forEach((t, i) => {
        t.addEventListener('click', () => openLightbox(i));
        t.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openLightbox(i); }
          if (e.key === 'ArrowDown') { e.preventDefault(); const next = Math.min(thumbs.length-1, i+1); thumbs[next].focus(); }
          if (e.key === 'ArrowUp') { e.preventDefault(); const prev = Math.max(0, i-1); thumbs[prev].focus(); }
        });
      });

      // Lightbox controls
      closeBtn.addEventListener('click', closeLightbox);
      nextBtn.addEventListener('click', showNext);
      prevBtn.addEventListener('click', showPrev);

      // Click backdrop (outside image) closes
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox || e.target === lightboxImg) closeLightbox();
      });

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (lightbox.classList.contains('show')) {
          if (e.key === 'Escape') closeLightbox();
          if (e.key === 'ArrowRight' || e.key === 'ArrowDown') { e.preventDefault(); showNext(); }
          if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') { e.preventDefault(); showPrev(); }
        } else {
          // When gallery strip focused, up/down navigate thumbnails
          if (document.activeElement === sideGallery || sideGallery.contains(document.activeElement)) {
            if (e.key === 'ArrowDown') {
              e.preventDefault();
              const focusedIndex = thumbs.findIndex(t => t === document.activeElement);
              const next = Math.min(thumbs.length-1, focusedIndex + 1);
              thumbs[next].focus();
            } else if (e.key === 'ArrowUp') {
              e.preventDefault();
              const focusedIndex = thumbs.findIndex(t => t === document.activeElement);
              const prev = Math.max(0, focusedIndex - 1);
              thumbs[prev].focus();
            }
          }
        }
      });

      // Improve mouse wheel scrolling when pointer is over gallery (faster, smoother feel)
      sideGallery.addEventListener('wheel', (e) => {
        // allow normal horizontal scroll on small screens
        if (window.matchMedia('(max-width: 900px)').matches) return;
        e.preventDefault();
        sideGallery.scrollBy({ top: e.deltaY, behavior: 'smooth' });
      }, { passive: false });

      // Initialize active thumb
      setActiveThumb(0);

      // If you want the gallery to auto-open first image on load uncomment:
      // openLightbox(0);

    })();
  </script>

  <script src="app.js"></script>
</body>
</html>
